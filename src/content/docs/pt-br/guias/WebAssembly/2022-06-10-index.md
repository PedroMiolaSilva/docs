---
layout: page-documentation-md
title: Como criar uma edge function usando WebAssembly na plataforma de Edge da Azion
description: Saiba mais sobre o processo necessário para a criação de uma edge function que utiliza uma função originada de um arquivo WebAssembly.
meta_tags: javascript, edge computing, wasm, webassembly
namespace: docs_use_case_webassembly
permalink: /documentation/products/guides/webassembly-on-azion-platform/
permalink_pt-br: /documentacao/produtos/guias/webassembly-na-plataforma-azion/
og_image: “/static/images/uploads/doc/use-case_-creating-a-function-using-webassembly.png”
meta-tags: ‘’
meta_tag_robots_no_index: false
---

# Como criar uma edge function usando WebAssembly na plataforma de Edge da Azion

Saiba mais sobre o processo necessário para a criação de uma [edge function]({% tl documentation_products_edge_functions %}) que utiliza uma função originada de um arquivo [WebAssembly](https://webassembly.org/getting-started/developers-guide/).

1. No [Real-Time Manager RTM](https://manager.azion.com/), no canto superior esquerdo, selecione **Edge Functions** na seção **Edge Libraries**.
2. Clique em **Add a Function**.
3. Escolha um nome para sua função.
4. Em **Language**, selecione **JavaScript**.
5. Copie e cole o seguinte código de exemplo no bloco de código:

```javascript
    async function handleRequest(request) {
      // You can either retrieve your .wasm file through fetch, for instance :
      // let wasmResponse = await fetch("http://somedomain/yourfile.wasm")
      // or embed the binary in the code, as shown below.
      const wasmCode = new Uint8Array([
        0, 97, 115, 109, 1, 0, 0, 0, 1, 6, 1, 96, 1, 127, 1, 127, 3, 2, 1, 0, 7, 13, 1, 9, 105, 110, 99, 114, 101,
        109, 101, 110, 116, 0, 0, 10, 9, 1, 7, 0, 32, 0, 65, 1, 106, 11,
      ]);

      const wasmModule = new WebAssembly.Module(wasmCode);
      const wasmInstance = new WebAssembly.Instance(wasmModule);
      const increment = wasmInstance.exports.increment;
      let value = 0;

      if (request.headers.has("value")) {
        let number = request.headers.get("value");
        if (!isNaN(number)) {
          value = parseInt(number);
        }
      }
      let incremented = increment(value);
      return new Response(
        "incrementing " + value + " we have " + incremented
      );
    }
    addEventListener("fetch", (event) => {
      event.respondWith(handleRequest(event.request));
    });
```

A constante `wasmCode` é a representação binária do seguinte [código WAT](https://developer.mozilla.org/en-US/docs/WebAssembly/Understanding_the_text_format):

```
    (module
    (type (;0;) (func (param i32) (result i32)))
    (func (;0;) (type 0) (param i32) (result i32)
      local.get 0
      i32.const 1
      i32.add)
    (export “increment” (func 0)))
```

> **Nota**: um [código WAT](https://developer.mozilla.org/en-US/docs/WebAssembly/Understanding_the_text_format) é a representação textual do formato binário do wasm, usado para permitir que o WebAssembly seja lido e editado por humanos.

{:start="6"}

6. Clique no botão **Save**

Agora, a função está pronta para ser instanciada em uma edge application. Veja como [instanciar e executar as funções em sua edge application]({% tl documentation_products_edge_applications_edge_functions_instances %}).

A saída esperada da função recém-criada é semelhante a:

```javascript
    incrementing 0 we have 1
```

## Leia também

- [WebAssembly – Runtime API]({% tl documentation_products_edge_functions_runtime_apis_javascript_webassembly %})
- [Edge Functions Instances]({% tl documentation_products_edge_applications_edge_functions_instances %})
- [Edge Functions]({% tl documentation_products_edge_functions %})

---

Não encontrou o que procurava? [Abra um ticket](https://tickets.azion.com/pt-BR/support/login/).
