---
title: Digital Certificates
description: Você pode conectar um certificado TLS para suas edge applications que usam o protocolo HTTPS através do Digital Certificates da Azion.
meta_tags: Digital Certificates, edge computing
namespace: documentation_products_edge_applications_digital_certificates
permalink: /documentacao/produtos/edge-application/digital-certificates/
---

Você precisa de um certificado TLS para transferir dados por HTTPS. O uso do protocolo HTTPS com um certificado garante que os dados de seus clientes sejam transferidos com segurança pela Internet, demonstra a confiabilidade de seu site e a autenticidade de seu domínio, e melhora a posição de seu site em mecanismos de busca como o Google.

Na Azion, você pode contar com as seguintes opções de certificados TLS para tráfego HTTPS:

- **Domínio compartilhado**: registra seu domínio como Subject Alternate Name (SAN) no certificado da Azion.
- **Custom certificate**: registra seu certificado TLS pessoal obtido de uma autoridade de certificação (CA).
- **Let's Encrypt certificate**: solicita a emissão de um certificado *Let's Encrypt*™ gerenciado automaticamente pela Azion.

---

## 1. Shared Domain

Ao utilizar o Azion **Edge Application**, você conta com nosso certificado TLS para tráfego em HTTPS sem custo adicional — basta utilizar o domínio compartilhado da Azion.

Quando você cria uma configuração de **Edge Application** no **[Real-Time Manager](https://manager.azion.com/)**, um domínio na zona "**azionedge.net**" é atribuído automaticamente. Se desejar, você pode utilizar o domínio atribuído para entregar seu conteúdo estático sobre HTTPS, evitando os custos de emissão de certificados TLS para ambientes de homologação ou URLs cujo domínio possa ser compartilhado com outros clientes da Azion.

#### Para utilizar o certificado TLS da Azion para o Shared Domain, proceda conforme a seguir:

1. Acesse o **[Real-Time Manager](https://manager.azion.com/)**, entre no **Products Menu** e selecione **Domains**.
2. Adicione ou edite uma configuração de **Domain**.
3. No campo **Digital Certificate**, selecione **Azion (SAN)**.
4. Clique no botão **Save** pra salvar sua configuração e você estará usando o **Shared Domain** da Azion.

---

## 2. Custom Certificate

Para utilizar o seu domínio em HTTPS, você precisará de um certificado TLS (X.509) próprio. Você pode configurar o certificado TLS de sua propriedade no [Real-Time Manager](https://manager.azion.com/). Caso não possua um, a Azion poderá compartilhar um certificado do tipo SAN — *Subject Alternate Name* —, que é um certificado de segurança digital que permite que diversos *hostnames* sejam protegidos por um único certificado. Para utilização desse recurso, você precisará comprovar a propriedade do domínio.

#### Há três tipos de validação que você pode escolher:

| DV <br />(Domain Validation) | OV <br /> (Organization Validation) | EV <br />(Extended Validation) |
| --- | --- | --- |
| É a validação sobre o seu direito de uso do domínio, sendo a mais simples das três opções. Esta é a opção recomendada pela Azion para a maioria das empresas. | É a validação sobre o seu direito de uso do domínio e mais algumas validações sobre a organização requisitante. | É uma validação estendida, que exige documentações adicionais para comprovação sobre a existência física, legal e operacional da organização requisitante, sendo a mais complexa das três opções. |

Atualmente, a Azion trabalha com dois tipos de certificados: *“RSA”* e *“ECC/ECDSA”*. Cada certificado tem sua característica e seu nível de segurança, e a Azion permite que você escolha a opção que se ajusta melhor ao seu cenário.

### RSA 

É um dos primeiros sistemas de criptografia de chave pública e é amplamente utilizado para transmissão segura de dados. Neste sistema de criptografia, a chave de encriptação é pública e é diferente da chave de decriptação que é secreta (privada).Toda mensagem cifrada usando uma chave pública só pode ser decifrada usando a respectiva chave privada.

O RSA é um algoritmo relativamente lento e, por isso, é menos usado para criptografar diretamente os dados do usuário. Mais frequentemente, o RSA passa chaves criptografadas compartilhadas para criptografia de chave simétrica que, por sua vez, pode executar operações de criptografia-descriptografia em massa a uma velocidade muito maior.

### ECC/ECDSA

A Criptografia de Curvas Elípticas é uma aproximação para a criptografia de chave pública com base na estrutura algébrica de curvas elípticas. A criptografia de chave pública é baseada na criação de enigmas matemáticos que são difíceis de resolver — por isso, ele se torna muito mais seguro que outros tipos de certificado, como, por exemplo, o RSA.

Chaves menores são menos intensivas computacionalmente para gerar assinaturas porque envolvem números matemáticos menores. ECC é mais rápida na geração de assinaturas e com mais performance sobre RSA.

### Como utilizar o Custom Certificate

Para adicionar seu Custom Certificate, você precisará do par Certificado (X.509) e da respectiva chave privada, ambos no formato [ASCII PEM](https://www.google.com.br/search?q=Como+converter+um+certificado+PFX+para+PEM&cad=h). A chave privada não pode estar protegida por *passphrase*.

O certificado é o arquivo que você recebe de sua CA. Ele começa com:

    -----BEGIN CERTIFICATE-----

Você deve copiar todo o conteúdo, incluindo o marcador inicial e também o marcador final:

    -----END CERTIFICATE-----

A chave privada é o arquivo que você usou para gerar a solicitação de CSR que foi enviada à sua CA. O conteúdo começa com:

    -----BEGIN RSA PRIVATE KEY-----

Você deve copiar todo o conteúdo, incluindo o marcador inicial e também o marcador final:

    -----END RSA PRIVATE KEY-----

Para utilizar seu Custom Certificate com a Azion utilizamos a extensão SNI (Server Name Indication) do protocolo TLS. Confira a [lista de browsers com suporte a SNI](https://caniuse.com/#feat=sni).

### Adicionar um certificado

Você pode adicionar um certificado digital de duas maneiras:

* fazendo o upload do seu próprio certificado digital e sua _private key_;
* gerando um CSR e uma _private key_ com a Azion.

#### Como utilizar seu próprio certificado:

1. Acesse o **[Real-Time Manager](https://manager.azion.com/)**.
2. No **Products Menu**, no canto superior esquerdo, em **Edge Libraries**, selecione **Digital Certificates**.
3. Clique no botão **Add certificate**.
4. Selecione a opção **Upload my certificate and private key** para adicionar um *Digital Certificate*, incluindo as informações do seu Certificado e a sua *Private key*.
5. Clique em **Save** para salvar a sua configuração.

#### Como gerar um CSR e *private key* com a Azion

Um Certificate Signing Request (CSR) é um dos primeiros passos para obter seu próprio certificado TLS. Para clientes com suporte ao FIPS 140 contratado, a chave privada será armazenada em um HSM que utiliza módulo criptográfico certificado no standard FIPS-140 Level 3.

1. Acesse o **[Real-Time Manager](https://manager.azion.com/)**.
2. No **Products Menu**, no canto superior esquerdo, em **Edge Libraries**, selecione **Digital Certificates**.
3. Clique no botão **Add certificate**.
4. Selecione a opção **Generate CSR and private key with Azion**.
5. Preencha os campos obrigatórios e clique em **Save**.

> O campo **Country/Region** aceita dois caracteres. Por exemplo, se tratando de Brasil, preencha apenas *BR*.


1. Uma janela de pop-up aparecerá na tela com a informação **CSR Successful Generated**. Aqui, você terá as informações necessárias para dar início ao seu *certificate request*. Escolha uma das seguintes opções: **I will copy later** ou **Copy to Clipboard**.
2. As informações geradas devem ser devidamente assinadas por uma CA (*Certificate Authority*).
3. Após ter seu certificado assinado, é necessário adicioná-lo à plataforma. Clique no certificado pendente e adicione as informações do seu certificado já assinado no campo **Certificate**.
4. Clique em **Save** para salvar sua configuração. Após essa etapa, seu certificado estará pronto para o uso.

Caso seja de sua preferência, é possível disponibilizar a *chain completa* de certificados para os seus domínios no campo **Certificate**.

---

## 3. Certificado Let's Encrypt

[Let's Encrypt](https://letsencrypt.org/)™ é uma CA que permite que indivíduos e empresas obtenham, renovem e gerenciem certificados TLS gratuitamente. Quando você [cria um Domínio](/pt-br/documentacao/produtos/edge-application/domains/) com a Azion, você pode escolher obter um um certificado TLS assinado pela Let's Encrypt. Você pode requisitar a criação de certificados Let's Encrypt certificates para domínios hospedados no [Intelligent DNS](/pt-br/documentacao/produtos/intelligent-dns/) ou em um provedor de DNS externo.

Qaundo você [cria um domínio com a Azion](/pt-br/documentacao/produtos/ponto-de-partida/#creating-domain), você pode escolher a opção **Let's Encrypt** para gerar automaticamente um certificado Let's Encrypt. Uma entrada para esse certificado será listada na página **Digital Certificates** [no RTM](https://manager.azion.com/). Depois que o certificado for submetido à validação, emissão e armazenamento do DNS, ele se tornará ativo.

Você *deve* criar um novo **Domain** para gerar o certificado Let's Encrypt. O certificado criado será exclusivo para o domínio, ou seja, você não poderá transferir o certificado para outro domínio.

> Consulte o guia [Como gerar um certificado Let's Encrypt para o seu domínio](/pt-br/documentacao/produtos/guias/como-gerar-um-certificado-lets-encrypt/) para saber como validar esse tipo de certificado.

Os certificados Let's Encrypt ativos *serão renovados automaticamente antes da data de expiração* de 90 dias a partir de sua emissão, desde que você não vincule outro certificado ao domínio ou exclua o domínio associado.

### Configuração de CNAMEs

Ao criar um domínio com **Domain** da Azion e selecionar a opção **Let's Encrypt certificate**, você pode listar até 50 CNAMEs para solicitar o certificado. Os CNAMEs listados após o domínio de nível superior são registrados como *Subject Alternative Names (SAN)*.

Se você modificar a lista de CNAMEs nas configurações do domínio, a Azion irá criar um novo certificado com base no conjunto de CNAMEs modificados, e a entrada antiga será desativada.

A relação entre o certificado e os CNAMEs listados no Domain é de *um-para-muitos*. Isso significa que cada Domain terá seu próprio certificado, mas os CNAMes listados irão dividir o mesmo certificado.

No entanto, a relação entre o certificado e o Domain é de *um-para-um*. Se você quiser um certificado diferente para os CNAMEs de seu domínio, deverá separar cada um de seus CNAMEs em um novo [Domain](/pt-br/documentacao/produtos/edge-application/domains/).

#### Status

Se algum dos CNAMEs falhar no desafio, o certificado não será gerado e permanecerá com o status *Pending*.

#### Uso de wildcard

Você pode usar CNAMEs *wildcard* (`*.dominio.com`) ou misturar CNAMEs *wildcard* e *não wildcard* no mesmo Domain. Quando você usa a notação *wildcard*, você não precisa especificar subdomínios que já estão abarcados na *wildcard*. Por exemplo, se você decidir que o certificado deve ser aplicado a `*.dominio.com`, você não precisa incluir `blog.domain.com` na lista de CNAMEs do **Domain**.

A resolução do nome do host segue as regras padrão da Azion: os domínios específicos têm precedência sobre os *wildcard*. Por exemplo, um certificado Let's Encrypt para o Domain `blog.dominio.com` terá precedência sobre um certificado para o Domain `*.dominio.com`.

---

## Marca registrada

[Let's Encrypt](https://letsencrypt.org/) é uma marca registrada pela [Internet Security Research Group](https://www.abetterinternet.org/). Todos os direitos reservados.

---

Não encontrou o que procurava? [Abra um ticket](https://tickets.azion.com/pt-BR/support/login/).
