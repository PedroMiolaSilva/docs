---
layout: page-documentation-md
title: Exemplos em JavaScript - Teste A/B
description: Configura uma testagem A/B regulando o tipo de resposta com base em cookies. 
meta_tags: edge computing, javascript, edge functions, ab testing
namespace: documentation_products_edge_functions_javascript_examples_ab_testing
permalink: /documentation/products/edge-application/edge-functions/javascript-examples/ab-testing/
permalink_pt-br: /documentacao/produtos/edge-application/edge-functions/javascript-examples/ab-testing/
menu_namespace: edge-runtime-doc-menu

---

# Teste A/B 

Configura uma testagem A/B regulando o tipo de resposta com base em cookies. Pode ser utilizado para experimentos randomizados com duas variantes.

```javascript
function handleRequest(request) {
  const NAME = "TestA/B"
  const TEST_RESPONSE = new Response("Cookie A")
  const CONTROL_RESPONSE = new Response("Cookie B")

  const cookie = request.headers.get("cookie")
  if (cookie && cookie.includes(`${NAME}=a`)) {
    return CONTROL_RESPONSE
  }
  else if (cookie && cookie.includes(`${NAME}=b`)) {
    return TEST_RESPONSE
  }
  else {
    const group = Math.random() < 0.5 ? "test" : "control"
    const response = group === "control" ? CONTROL_RESPONSE : TEST_RESPONSE
    response.headers.append("Set-Cookie", `${NAME}=${group}; path=/`)

    return response
  }
}

addEventListener("fetch", event => {
  event.respondWith(handleRequest(event.request))
})
```

---

NÃ£o encontrou o que procurava? [Abra um ticket](https://tickets.azion.com/pt-BR/support/login/).
